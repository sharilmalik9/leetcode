{"id":814698870,"lang":"java","lang_name":"Java","time":"8 months, 3 weeks","timestamp":1664854840,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/814698870/","is_pending":"Not Pending","title":"Count Submatrices With All Ones","memory":"N/A","code":"class Solution {\n    public int numSubmat(int[][] mat) {\n       \n        int m =mat.length;\n        int n=mat[0].length;\n        int cnt=0;\n//         for(int i=0;i<m;i++){\n//             for(int j=0;j<n;j++){\n//                 if(mat[i][j]==1){\n//                     cnt++;\n//                 }\n// }\n//         }\n        int[][] dp= new int[m][n];\n         if(mat[0][0]==1){\n            dp[0][0]=1;\n        }\n        int ans=countSquares(mat);\n         int hor=0;\n        for(int k=0;k<m;k++){\n            dp[k][0]=mat[k][0];\n            hor+=dp[k][0];\n            if(dp[k][0]==1){\n                cnt++;\n            }\n            \n        }\n       \n       for(int i=0;i<m;i++){\n            for(int j=1;j<n;j++){\n                if(mat[i][j]==1){\n                    cnt++;\n                    dp[i][j]=dp[i][j-1]+1;\n                    hor+=dp[i][j];\n                    \n                   \n                 } \n             }\n        }\n        int ver=0;\n       dp= new int[m][n];\n          for(int k=0;k<n;k++){\n            dp[0][k]=mat[0][k];\n             ver+=dp[0][k];\n        }\n       for(int i=0;i<n;i++){\n            for(int j=1;j<m;j++){\n                if(mat[j][i]==1){\n                   \n                    dp[j][i]=dp[j-1][i]+1;\n                    ver+=dp[j][i];\n                    \n                   \n                 } \n             }\n        }\n        \n        \n        \n        \n        \n        \n        ans=hor+ver+ans;\n        return ans-2*cnt;\n        \n    }\n    \n    \n    \n    \n     public int countSquares(int[][] matrix) {\n        int m=matrix.length;\n        int n = matrix[0].length;\n        int[][] dp= new int[m][n];\n        for(int i=0;i<m;i++){\n           dp[i][0]=matrix[i][0];\n        }\n        for(int i=0;i<n;i++){\n          dp[0][i]=matrix[0][i];\n        }\n        for(int i=1;i<m;i++){\n            for(int j=1;j<n;j++){\n                if(matrix[i][j]==0){\n                    dp[i][j]=0;\n                }\n                else{\n                    dp[i][j]=1+Math.min(dp[i][j-1],Math.min(dp[i-1][j-1],dp[i-1][j]));\n                }\n            }\n        }\n        int ans=0;\n        for(int i=0;i<m;i++){\n            for(int j=0;j<n;j++){\n                ans+=dp[i][j];\n            }\n        }\n        \n        return ans;\n}\n}","compare_result":"1011111111110111000000000100000000000000000000000000000000000000000000000","title_slug":"count-submatrices-with-all-ones","has_notes":false}