{"id":816139656,"lang":"java","lang_name":"Java","time":"8 months, 3 weeks","timestamp":1665020107,"status":20,"status_display":"Compile Error","runtime":"N/A","url":"/submissions/detail/816139656/","is_pending":"Not Pending","title":"Time Based Key-Value Store","memory":"N/A","code":"class TimeMap {\n    class pair{\n        String value;\n        int time;\n        pair(String value,int time){\n            this.value=value;\n            this.time=time;\n        }\n    }\n    HashMap<String,List<pair>> hm;\n\n    public TimeMap() {\n        hm=new HashMap<>();\n        \n    }\n    \n    public void set(String key, String value, int timestamp) {\n     pair pp= new pair(value,timestamp);\n      \n      List<pair> ls= hm.getOrDefault(key,new ArrayList<pair>());\n        ls.add(pp);\n        hm.put(key,ls);\n        \n    }\n    \n    public String get(String key, int timestamp) {\n        List<pair> curr= hm.getOrDefault(key,new ArrayList<pair>());\n      //  int ans=0;\n      ////  String ansf=\"\";\n        // System.out.println(curr);\n        // for(pair p: curr){\n        //     if(p.time<=timestamp){\n        //         if(p.time>ans){\n        //             ans=p.time;\n        //        //     System.out.println(p.value);\n        //             ansf=p.value;\n        //         }\n        //     }\n        // }\n        return search(curr,timestamp);\n        \n    }\n    public String search(List<pair> ls,int timestamp){\n        int start=0;\n        String ans=\"\";\n        int end=ls.size()-1;\n        if(ls.get(start).time>timestamp){\n            return \"\";\n        }\n        if(ls.get(end).time<=timestamp){\n            return ls.get(end).value;\n        }\n        while(start<=end){\n            int mid=(start+end)/2;\n            if(ls.get(mid).time==timestamp){\n                return ls.get(mid).value;\n            }\n            else if(timestamp>ls.get(mid).time){\n               \n                end--;\n                 ans=ls.get(end).value;\n                \n                \n}\n            else if(timestamp<){\n                start++;\n            }\n        }\n        return ans;\n    }\n}\n\n/**\n * Your TimeMap object will be instantiated and called as such:\n * TimeMap obj = new TimeMap();\n * obj.set(key,value,timestamp);\n * String param_2 = obj.get(key,timestamp);\n */","compare_result":null,"title_slug":"time-based-key-value-store","has_notes":false}