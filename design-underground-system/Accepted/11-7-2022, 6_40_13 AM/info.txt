{"id":838373758,"lang":"java","lang_name":"Java","time":"7 months, 3 weeks","timestamp":1667783413,"status":10,"status_display":"Accepted","runtime":"250 ms","url":"/submissions/detail/838373758/","is_pending":"Not Pending","title":"Design Underground System","memory":"113.8 MB","code":"class UndergroundSystem {\n    Map<Integer, CustomerCheckin> customerCheckinMap = new HashMap<>(); //customer id, CustomerCheckin\n    Map<String, List<Integer>> journeyTimesForStationPairs = new HashMap<>(); //\"startstation->endstation\", List of journey\n    // times between them for each trip, by any customer.\n\n    public UndergroundSystem() {\n    }\n\n    public void checkIn(int id, String stationName, int t) {\n        customerCheckinMap.put(id, new CustomerCheckin(id,stationName, t));\n    }\n\n    public void checkOut(int id, String stationName, int t) {\n        String checkinStation = customerCheckinMap.get(id).getCheckinStationName();\n        String stationPair = getStationPair(checkinStation, stationName);\n        List<Integer> journeyTimesForThisPair= journeyTimesForStationPairs.getOrDefault(stationPair, new ArrayList());\n\n        int checkinTime = customerCheckinMap.get(id).getCheckinTime();\n        journeyTimesForThisPair.add(t-checkinTime);\n        journeyTimesForStationPairs.put(stationPair, journeyTimesForThisPair);\n    }\n\n    public double getAverageTime(String startStation, String endStation) {\n        String stationPair = getStationPair(startStation, endStation);\n        List<Integer> journeyTimes = journeyTimesForStationPairs.get(stationPair);\n        double totalTime =0.0;\n        double numberOfJourneys= 0.0;\n\n        for (int journeyTime : journeyTimes) {\n            totalTime += journeyTime;\n            numberOfJourneys++;\n        }\n\n        if (numberOfJourneys ==0) {\n            return 0;\n        }\n        return totalTime/numberOfJourneys;\n    }\n\n    /**\n     * returns a station pair in String form.\n     * @param checkinStation\n     * @param checkoutStation\n     * @return\n     */\n    private String getStationPair(String checkinStation, String checkoutStation) {\n        return String.format(\"%s->%s\", checkinStation, checkoutStation);\n    }\n\n    //Custom object to contain a customer's current checkin info\n    class CustomerCheckin {\n        int id;\n        String checkinStationName;\n        int checkinTime;\n\n        public CustomerCheckin(int id, String checkinName, int checkinTime) {\n            this.id =id;\n            this.checkinStationName = checkinName;\n            this.checkinTime = checkinTime;\n        }\n\n        public int getId () {\n            return id;\n        }\n\n        public String getCheckinStationName() {\n            return checkinStationName;\n        }\n\n        public int getCheckinTime() {\n            return checkinTime;\n        }\n    }\n}","compare_result":"11111111111111111111111111111111111111111111111111111111","title_slug":"design-underground-system","has_notes":false}